<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html">
	
	<f:view contentType="text/html">
		<h:head>
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	
			<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
				rel="stylesheet" />
				
			<link href="/tetrimino/css/materialize.min.css" type="text/css" rel="stylesheet"
				media="screen,projection" />
			
			<link href="/tetrimino/css/style.css" type="text/css" rel="stylesheet"
				media="screen,projection" />
			
			<meta name="viewport" content="width=device-width, initial-scale=1.0" />
			
			<title>FAQ</title>
		</h:head>
		
		<h:body>
		
			<ul id="menuFAQ" class="dropdown-content">
				<li><a href="/tetrimino/faq.xhtml">FAQ</a></li>
				<li><a href="/tetrimino/ajoutFAQ.xhtml">Ajout FAQ</a></li>
			</ul>
			
			<nav class="red darken-4" role="navigation">
				<div class="nav-wrapper container">
					<a id="logo-container" href="/tetrimino/accueilAdmin" class="brand-logo">Tetrimino</a>
					
					<!-- Affichage des drapeaux pour l'internationalisation -->
					<a href="${uri}?lang=en"><img title="Anglais" alt="Anglais" src="/tetrimino/img/en.png" style="float:right;" /></a>
					<a href="${uri}?lang=fr"><img title="Français" alt="Français" src="/tetrimino/img/fr.png" style="float:right;" /></a>
					
					
					
					<!-- Lien de déconnexion si connecté -->
					<ul class="right hide-on-med-and-down">
						<li>
							<a href="/tetrimino/listeTetriminos">Tetriminos</a>
						</li>
						<li>
							<a href="/tetrimino/listeParties">Parties</a>
						</li>
						<li>
							<a href="/tetrimino/listeJoueurs">Joueurs</a>
						</li>
						<li><a class="dropdown-button" href="/tetrimino/faq.xhtml" data-activates="menuFAQ">FAQ</a></li>
						<li><a href="/tetrimino/deconnexion">Déconnexion</a></li>
					</ul>
				</div>
			</nav>
		
			<div class="container" >
				<h5><b>FAQ</b></h5>
				<ul>
				<h:form>
				
				<ui:repeat var="faqBD" value="#{ faqController.faqsBD }">
					<li>
						<div>
						#{ faqBD.libelle }
						</div>
						<div>
							<ul class="collapsible popup" data-collapsible="accordion">
							
							<ui:repeat var="faq" value="#{ faqController.faqs }">
							<!-- Affiche les FAQLangue correspondantes au libelle FAQ en cours -->
							<ui:fragment rendered="#{ faqBD.libelle eq faq.faq.libelle }">
								<!-- Affiche les FAQ correspondantes à la langue du cookie -->
								<ui:fragment rendered="#{ faq.langue.code eq cookie['lang'].value }">
								<li>
									<div class="collapsible-header">
										<h:commandLink action="#{ faqController.delete(faq.id) }" ><i class="material-icons">cancel</i></h:commandLink>
										<!-- <a href="#{ faqController.delete(faq.id) }" class="secondary-content posRelative" title="Supprimer"><i class="material-icons">cancel</i></a> -->
										<a href="modifierFAQ.xhtml?idFAQLangue=#{faq.id}" class="secondary-content posRelative" title="Editer"><i class="material-icons">edit</i></a>
										#{ faq.question }
									</div>
									
									<div class="collapsible-body">#{ faq.reponse }</div>
								</li>
								</ui:fragment>
							</ui:fragment>
						</ui:repeat>
						</ul>
					</div></li>
				</ui:repeat>
				
				</h:form>
				</ul>
				<p>
					<a class="waves-effect waves-light btn red darken-4" href="/tetrimino/ajoutFAQ.xhtml"><i class="material-icons left">add</i>Ajouter une question</a>
				</p>
			</div>
			
			<!-- Code Javascript -->
			<script type="text/javascript"
				src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
			<script type="text/javascript" src="/tetrimino/js/materialize.min.js"></script>
			<script type="text/javascript">
				$(document).ready(function(){
				    $('.collapsible').collapsible();
				  });
			</script>
			
			<script>
			$(document).ready(function() {
			    $(".dropdown-button").dropdown({ hover: true });
			  });
			</script>
			
		</h:body>
	
	</f:view>
</html>